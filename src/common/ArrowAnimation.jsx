import React, { useRef, useEffect } from "react";
import { gsap } from "gsap";
import "./ArrowAnimation.css"; // Make sure to import your CSS

function ArrowAnimation() {
  const svgRef = useRef(null);

    useEffect(() => {
    const svgElement = svgRef.current;
    const scrollPath = document.querySelector('#Scroll');
    const vecPaths = gsap.utils.toArray(["#vec1", "#vec2"]);

    // Animate the path drawing
    gsap.fromTo(
      scrollPath,
      { strokeDasharray: scrollPath.getTotalLength(), strokeDashoffset: scrollPath.getTotalLength() },
      { strokeDashoffset: 0, duration: 2, ease: 'power2.inOut' }
    );

    gsap.utils.toArray(vecPaths).forEach((path, i) => {
      gsap.fromTo(
        path,
        {
          strokeDasharray: path.getTotalLength(),
          strokeDashoffset: path.getTotalLength(),
        },
        {
          strokeDashoffset: 0,
          duration: 1,
          delay: 1.5 + (i + 4) * 0.2, // Staggered start
          ease: "power2.inOut",
        }
      );
    });

    // Animate opacity of #Scroll
    gsap.fromTo(
      scrollPath,
      { opacity: 0 },
      { opacity: 1, duration: 1, delay: 3, ease: "power2.inOut" }
    );
  }, []);

  return (
    <div className="svg-container">
      <svg
        ref={svgRef}
        width="117"
        height="70"
        viewBox="0 0 117 70"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="Group 7">
          <path
            id="Scroll"
            d="M17.64 24.2C17.64 25.4 17.4267 26.3467 17 27.04C16.5733 27.7067 15.9467 28.3333 15.12 28.92C14.9067 29.0533 14.6133 29.2133 14.24 29.4C13.8667 29.5867 13.4533 29.76 13 29.92C12.5467 30.08 12.0667 30.2133 11.56 30.32C11.0533 30.4267 10.5867 30.48 10.16 30.48C8.96 30.48 8.05333 30.3467 7.44 30.08C6.82667 29.84 6.52 29.5467 6.52 29.2C6.52 28.8267 6.62667 28.52 6.84 28.28C7.05333 28.04 7.24 27.9067 7.4 27.88L7.84 28.2C7.97333 28.3333 8.16 28.48 8.4 28.64C8.64 28.7733 9.02667 28.84 9.56 28.84C10.0667 28.84 10.68 28.76 11.4 28.6C12.12 28.4133 12.8 28.1467 13.44 27.8C14.1067 27.4267 14.6667 26.9733 15.12 26.44C15.6 25.9067 15.84 25.2933 15.84 24.6C15.84 23.9867 15.3733 23.4267 14.44 22.92C13.5333 22.3867 12.0933 22.0267 10.12 21.84C9.10667 21.76 8.10667 21.64 7.12 21.48C6.13333 21.2933 5.24 21.0533 4.44 20.76C3.66667 20.44 3.04 20.0533 2.56 19.6C2.08 19.12 1.84 18.5333 1.84 17.84C1.84 17.1733 2.02667 16.5333 2.4 15.92C2.77333 15.3067 3.22667 14.7467 3.76 14.24C4.32 13.7067 4.89333 13.24 5.48 12.84C6.06667 12.44 6.56 12.1067 6.96 11.84C7.28 11.6533 7.72 11.4133 8.28 11.12C8.86667 10.8 9.48 10.5067 10.12 10.24C10.7867 9.94667 11.44 9.70667 12.08 9.52C12.7467 9.30667 13.3067 9.2 13.76 9.2C14.2933 9.2 14.6533 9.34667 14.84 9.64C15.0267 9.93333 15.12 10.3467 15.12 10.88C15.12 11.3333 15.0667 11.8133 14.96 12.32C14.8533 12.8267 14.7333 13.32 14.6 13.8C14.4667 14.28 14.3333 14.7067 14.2 15.08C14.0933 15.4267 14.0133 15.6533 13.96 15.76C13.8533 16 13.7333 16.16 13.6 16.24C13.4667 16.32 13.3733 16.36 13.32 16.36C13.2133 16.36 13.16 16.2933 13.16 16.16C13.16 16.08 13.1733 15.9333 13.2 15.72C13.2533 15.48 13.3067 15.2 13.36 14.88C13.44 14.56 13.4933 14.2133 13.52 13.84C13.5733 13.4667 13.6 13.0933 13.6 12.72C13.6 12.1333 13.5733 11.7067 13.52 11.44C13.4667 11.1733 13.2533 11.04 12.88 11.04C12.5067 11.04 12 11.1467 11.36 11.36C10.72 11.5467 10.0667 11.7867 9.4 12.08C8.68 12.4 7.97333 12.8133 7.28 13.32C6.61333 13.8267 6.01333 14.3467 5.48 14.88C4.94667 15.4133 4.50667 15.9333 4.16 16.44C3.84 16.92 3.68 17.3067 3.68 17.6C3.68 17.92 3.89333 18.2267 4.32 18.52C4.77333 18.7867 5.33333 19.0267 6 19.24C6.69333 19.4533 7.45333 19.64 8.28 19.8C9.10667 19.96 9.92 20.08 10.72 20.16C11.3867 20.24 12.12 20.3467 12.92 20.48C13.72 20.6133 14.4667 20.8267 15.16 21.12C15.8533 21.4133 16.44 21.8133 16.92 22.32C17.4 22.8 17.64 23.4267 17.64 24.2ZM31.3622 22.72C31.3622 22.9867 31.3222 23.2667 31.2422 23.56C31.1622 23.8267 31.0822 24.0533 31.0022 24.24C30.9489 24.32 30.6955 24.6 30.2422 25.08C29.8155 25.5333 29.2689 26.0133 28.6022 26.52C27.9622 27.0267 27.2289 27.4933 26.4022 27.92C25.6022 28.32 24.8289 28.52 24.0822 28.52C23.6289 28.52 23.1622 28.44 22.6822 28.28C22.2289 28.12 21.8022 27.8667 21.4022 27.52C21.0022 27.1467 20.6689 26.6933 20.4022 26.16C20.1622 25.6267 20.0422 24.9733 20.0422 24.2C20.0422 22.92 20.2555 21.76 20.6822 20.72C21.1089 19.68 21.5355 18.8533 21.9622 18.24C22.1489 17.9467 22.3889 17.6533 22.6822 17.36C23.0022 17.04 23.3089 16.76 23.6022 16.52C23.8955 16.2533 24.1622 16.04 24.4022 15.88C24.6689 15.72 24.8555 15.64 24.9622 15.64C25.2022 15.64 25.4155 15.7067 25.6022 15.84C25.8155 15.9733 25.9222 16.1067 25.9222 16.24C25.9222 16.4533 25.8555 16.64 25.7222 16.8C25.6155 16.9333 25.4555 17.0933 25.2422 17.28C25.0289 17.44 24.7755 17.6667 24.4822 17.96C24.1889 18.2267 23.8822 18.5867 23.5622 19.04C22.9222 19.92 22.4422 20.8267 22.1222 21.76C21.8289 22.6667 21.6822 23.4667 21.6822 24.16C21.6822 24.8533 21.9355 25.4133 22.4422 25.84C22.9755 26.24 23.5222 26.44 24.0822 26.44C25.0955 26.44 25.9889 26.2133 26.7622 25.76C27.5622 25.3067 28.2422 24.8 28.8022 24.24C29.3622 23.68 29.8155 23.1733 30.1622 22.72C30.5089 22.2667 30.7622 22.04 30.9222 22.04C31.2155 22.04 31.3622 22.2667 31.3622 22.72ZM44.0088 17.8C44.0088 17.9867 43.9288 18.1467 43.7688 18.28C43.6088 18.3867 43.4221 18.48 43.2088 18.56C42.9954 18.64 42.7821 18.7067 42.5688 18.76C42.3554 18.7867 42.1821 18.8 42.0488 18.8C41.6488 18.8 41.3821 18.7733 41.2488 18.72C41.1154 18.6667 41.0088 18.64 40.9288 18.64C40.2621 18.64 39.7288 18.6933 39.3288 18.8C38.9288 18.9067 38.6088 19.08 38.3688 19.32C38.1554 19.56 38.0088 19.8667 37.9288 20.24C37.8754 20.5867 37.8488 21.0133 37.8488 21.52C37.8488 22.3733 37.8754 23.0533 37.9288 23.56C38.0088 24.0667 38.0754 24.48 38.1288 24.8C38.2088 25.12 38.2754 25.3733 38.3288 25.56C38.4088 25.72 38.4488 25.88 38.4488 26.04C38.4488 26.2533 38.3288 26.48 38.0888 26.72C37.8754 26.96 37.6754 27.08 37.4888 27.08C37.1688 27.08 36.8754 26.8 36.6088 26.24C36.3688 25.6533 36.1554 24.9733 35.9688 24.2C35.8088 23.4 35.6754 22.6133 35.5688 21.84C35.4621 21.0667 35.4088 20.48 35.4088 20.08C35.4088 19.6267 35.4488 19.2 35.5288 18.8C35.6088 18.3733 35.7154 18.0133 35.8488 17.72C35.9821 17.4 36.1288 17.1467 36.2888 16.96C36.4488 16.7733 36.6088 16.68 36.7688 16.68C36.9021 16.68 37.0088 16.7333 37.0888 16.84C37.1688 16.92 37.2354 17.0267 37.2888 17.16C37.3421 17.2667 37.3954 17.3733 37.4488 17.48C37.5288 17.56 37.6221 17.6 37.7288 17.6C37.9688 17.6 38.3554 17.48 38.8888 17.24C39.4221 17 40.0754 16.88 40.8488 16.88C41.5688 16.88 42.1021 16.9067 42.4488 16.96C42.8221 16.9867 43.1821 17.0667 43.5287 17.2C43.6088 17.2267 43.7021 17.2933 43.8088 17.4C43.9421 17.48 44.0088 17.6133 44.0088 17.8ZM54.385 21.36C54.385 21.9467 54.305 22.5067 54.145 23.04C53.985 23.5733 53.7717 24.04 53.505 24.44C53.2383 24.84 52.9183 25.16 52.545 25.4C52.1983 25.6133 51.8117 25.72 51.385 25.72C50.6383 25.72 50.0517 25.5067 49.625 25.08C49.1983 24.6533 48.865 24.16 48.625 23.6C48.4117 23.04 48.265 22.48 48.185 21.92C48.1317 21.3333 48.105 20.8933 48.105 20.6C48.105 20.12 48.1717 19.5867 48.305 19C48.465 18.3867 48.665 17.8267 48.905 17.32C49.1717 16.8133 49.465 16.3867 49.785 16.04C50.105 15.6933 50.4383 15.52 50.785 15.52C50.865 15.52 50.985 15.5467 51.145 15.6C51.3317 15.6533 51.5183 15.7333 51.705 15.84C51.8917 15.9467 52.0517 16.08 52.185 16.24C52.345 16.4 52.4517 16.5867 52.505 16.8C52.7983 16.8267 53.0917 16.9333 53.385 17.12C53.6783 17.3067 53.8383 17.4533 53.865 17.56C54.0783 18.2533 54.2117 18.9467 54.265 19.64C54.345 20.3333 54.385 20.9067 54.385 21.36ZM52.585 20.64C52.585 20.24 52.545 19.8267 52.465 19.4C52.385 18.9467 52.225 18.4933 51.985 18.04C51.9317 18.0667 51.865 18.08 51.785 18.08C51.6783 18.08 51.585 18.0667 51.505 18.04C51.4517 18.0133 51.3983 18 51.345 18C51.025 18 50.7717 18.0933 50.585 18.28C50.3983 18.44 50.2517 18.6667 50.145 18.96C50.065 19.2267 50.0117 19.52 49.985 19.84C49.9583 20.16 49.945 20.4667 49.945 20.76C49.945 21.0533 49.9583 21.3867 49.985 21.76C50.0117 22.1067 50.065 22.44 50.145 22.76C50.2517 23.08 50.385 23.36 50.545 23.6C50.705 23.8133 50.9183 23.92 51.185 23.92C51.4517 23.92 51.6783 23.7867 51.865 23.52C52.0517 23.2267 52.1983 22.8933 52.305 22.52C52.4117 22.1467 52.4783 21.7867 52.505 21.44C52.5583 21.0667 52.585 20.8 52.585 20.64ZM63.7559 28.84C63.7559 29.0533 63.6759 29.2133 63.5159 29.32C63.3559 29.4267 63.1693 29.48 62.9559 29.48C62.7159 29.48 62.4626 29.2533 62.1959 28.8C61.9559 28.3467 61.7159 27.7733 61.4759 27.08C61.2359 26.3867 61.0093 25.64 60.7959 24.84C60.5826 24.0133 60.3959 23.2533 60.2359 22.56C60.0759 21.84 59.9426 21.24 59.8359 20.76C59.7559 20.28 59.7159 20.0133 59.7159 19.96C59.7159 19.8533 59.6626 19.5733 59.5559 19.12C59.4759 18.6667 59.3559 17.96 59.1959 17C59.0626 16.04 58.9026 14.8 58.7159 13.28C58.5559 11.7333 58.3826 9.82667 58.1959 7.56C58.1959 7.32 58.2359 7.01333 58.3159 6.64C58.3959 6.26666 58.5826 6.08 58.8759 6.08C59.2493 6.08 59.5293 6.33333 59.7159 6.84C59.9293 7.34667 60.0893 7.97333 60.1959 8.72C60.3293 9.46667 60.4226 10.2533 60.4759 11.08C60.5293 11.88 60.5959 12.5867 60.6759 13.2C60.7826 14.0533 60.8759 14.8267 60.9559 15.52C61.0626 16.2133 61.1559 16.9067 61.2359 17.6C61.3426 18.2667 61.4626 18.9733 61.5959 19.72C61.7559 20.4667 61.9426 21.2933 62.1559 22.2L63.7559 28.84ZM72.1934 28.84C72.1934 29.0533 72.1134 29.2133 71.9534 29.32C71.7934 29.4267 71.6068 29.48 71.3934 29.48C71.1534 29.48 70.9001 29.2533 70.6334 28.8C70.3934 28.3467 70.1534 27.7733 69.9134 27.08C69.6734 26.3867 69.4468 25.64 69.2334 24.84C69.0201 24.0133 68.8334 23.2533 68.6734 22.56C68.5134 21.84 68.3801 21.24 68.2734 20.76C68.1934 20.28 68.1534 20.0133 68.1534 19.96C68.1534 19.8533 68.1001 19.5733 67.9934 19.12C67.9134 18.6667 67.7934 17.96 67.6334 17C67.5001 16.04 67.3401 14.8 67.1534 13.28C66.9934 11.7333 66.8201 9.82667 66.6334 7.56C66.6334 7.32 66.6734 7.01333 66.7534 6.64C66.8334 6.26666 67.0201 6.08 67.3134 6.08C67.6868 6.08 67.9668 6.33333 68.1534 6.84C68.3668 7.34667 68.5268 7.97333 68.6334 8.72C68.7668 9.46667 68.8601 10.2533 68.9134 11.08C68.9668 11.88 69.0334 12.5867 69.1134 13.2C69.2201 14.0533 69.3134 14.8267 69.3934 15.52C69.5001 16.2133 69.5934 16.9067 69.6734 17.6C69.7801 18.2667 69.9001 18.9733 70.0334 19.72C70.1934 20.4667 70.3801 21.2933 70.5934 22.2L72.1934 28.84Z"
            fill="black"
          />
          <g id="arrow">
            <path
              id="vec1"
              d="M76.3013 24.8914C85.1145 24.8914 95.7252 25.8584 99.5877 35.2073C102.314 41.8067 101.82 49.8912 101.82 56.9252"
              stroke="black"
              stroke-linecap="round"
            />
            <path
              id="vec2"
              d="M90.2778 50.8406C91.4564 56.3537 92.5965 62.1497 96.0057 66.7986C98.8799 70.718 102.289 69.6374 105.796 67.0117C111.069 63.0649 115.107 57.2139 115.933 50.6008"
              stroke="black"
              stroke-linecap="round"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

export default ArrowAnimation;
